option_settings:
  aws:elasticbeanstalk:xray:
    XRayEnabled: true
  aws:autoscaling:asg:
    # How many EC2 intances do we want running out application?
    MinSize: 1
    MaxSize: 1
  aws:autoscaling:launchconfiguration:
    # What instance size should be used.
    InstanceType: t2.micro
    # This should be replaced by the security group created by the EFS CloudFormation template.
    SecurityGroups: '`{"Ref" : "SecurityGroups"}`'
    # Key that will be use for the host 
    EC2KeyName: ppavlov
    # Role that will be atached to the host 
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
  aws:ec2:vpc:
    # This should be replaced by your Cornell VPC id.
    VPCId: vpc-71070114 # REPLACE
    # For example purposes, deploy both the EC2 instances and the ELB in your private subnets.
    Subnets: "subnet-7704a001,subnet-dd8519f6" # REPLACE
    ELBSubnets: "subnet-7704a001,subnet-dd8519f6" # REPLACE
    # This tells EB to create the ELB with only a private address.
    ELBScheme: internal
    # Don't associate a public addresses with EC2 insances launched
    AssociatePublicIpAddress: false
  aws:elasticbeanstalk:application:environment:
    # These values get set in the EC2 shell environment at launch
    key1: example-value1
  aws:elasticbeanstalk:environment:
    # LoadBalanced the application so we can play with multiple instances later.
    EnvironmentType: LoadBalanced
  aws:elasticbeanstalk:command
    # Deployment Commnads: Roll and deploy 30%
    BatchSize: 30
    BatchSizeType: Percentage
    DeploymentPolicy: Rolling
  aws:elasticbeanstalk:sns:topics
    Notification Endpoint: aws@domain.com
  aws:elasticbeanstalk:healthreporting:system
    HealthCheckSuccessThreshold: Ok
    SystemType: enhanced
  aws:elasticbeanstalk:customoption
    ELBAlarmEmail: "aws@domain.com"
    ELBHealthyHostCount: "1"
    ELBLatency: "0.5"
    ELBHTTP5xxErrors: "0"
    VisibilityTimeout : 30
    AlarmEmail : nobody@amazon.com
